<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Objetos</title>
	<script type="text/javascript">
		// El objeto nativo Math es estático
		var squareValue = Math.sqrt(144);
		console.log("Math.sqrt(144): " + squareValue);

		// Array requiere crear una instancia
		var listofPrimeNumbers = new Array(1, 2, 3, 5, 7, 11, 13, 17, 19, 23);		
		console.log("new Array(1, 2, 3, 5, 7, 11, 13, 17, 19, 23): " + listofPrimeNumbers);


		var txt = "my long string";
		var num = 5;

		var index = txt.indexOf("long",0);
		var exp = num.toExponential(2);
		
		console.log("txt.indexOf('long',0): " + index);
		console.log("num.toExponential(5): " + exp);

		// OBJETOS PROPIOS

		var book = {
			ISBN: "55555555",
			Length: 560,
			genre: "programming",
			covering: "soft",
			author: "John Doe",
			currentPage: 5,
			title: "My Big Book of Wonderful Things",
			flipTo: function flipToAPage(pNum) {
				this.currentPage = pNum;
			},
			turnPageForward: function turnForward() {
				this.flipTo(this.currentPage++);
			},
			turnPageBackward: function turnBackward() {
				this.flipTo(this.currentPage--);
			}	
		}

		/*function Book() {
			this.ISBN = "55555555";
			this.Length = 560;
			this.genre= "programming";
			this.covering = "soft";
			this.author = "John Doe";
			this.currentPage = 5,
			this.flipTo = function FlipToAPage(pNum) {
				this.currentPage = pNum;
			},
			this.turnPageForward = function turnForward() {
				this.flipTo(this.currentPage++);
			},
			this.turnPageBackward = function turnBackward() {
				this.flipTo(this.currentPage--);
			}
		}
		var books = new Array(new Book(), new Book(), new Book());*/
		


		//Creación de objeto Book con 2 constructores
		function Book() // Constructor 1
		{
			//just creates an empty book.
		}
		function Book(title, length, author) { //Constructor 2 con parámetros
			this.title = title;
			this.Length = length;
			this.author = author;
		}

		Book.prototype = {	// prototipo de Book
			ISBN: "ALGO",
			Length: -1,
			genre: "",
			covering: "",
			author: "",
			currentPage: 0,
			title: "",
			author: new Author("","",""),
			flipTo: function FlipToAPage(pNum) {
				this.currentPage = pNum;
			},
			turnPageForward: function turnForward() {
				this.flipTo(this.currentPage++);
			},
			turnPageBackward: function turnBackward() {
				this.flipTo(this.currentPage--);
			}
		};

		function Author(){
		}

		function Author(firstName, lastName, gender)
		{
			this.firstName = firstName;
			this.lastName = lastName;
			this.gender = gender;
		}

		Author.prototype = {
			firstName:"",
			lastName:"",
			gender:"",
			BookCount: 0
		}

		var books = new Array(new Book(), new Book("First Edition",350,new Author("Wittman","Gutierrez","Male")));

		console.log("Objeto book[1]");
		console.log(books[1].Length);
		console.log(books[1].ISBN);
		console.log(books[1].author.firstName);
		console.log(books[1].author.lastName);


		// Herencia
		var popupBook = Object.create(
								Book.protoType,
								{ hasSound: {value:true},
								showPopUp:{ value: function showPop() {
								//do logic to show a popup
									}
								}
		});
		function PopUpBook() {
			Book.call(this);	//funciona como super(); llama al constructor de la clase padre
		}
		PopUpBook.prototype = Book.prototype;
		PopUpBook.prototype.hasSound = false;
		PopUpBook.prototype.showPopUp = function ShowPop() { };		

	</script>
</head>
<body>

</body>
</html>